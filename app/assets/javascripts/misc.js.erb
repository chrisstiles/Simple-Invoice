var ready;
ready = function() {

var pageBody = $('body');

// Show loading animation after user clicks generate PDF, while the PDF loads (on index page)

pageBody.on('click', '.thirdbutton.file', function() {
	$(this).siblings('.homeinvoiceloader').fadeIn(200);
});

// Remove success modal when close is clicked
$('.closesuccess').on("click", function() {
	$(this).parent('.success').remove();
});


// Set position of home page sidebar
var homePageWrapper = $('#pagewrapper');
var homeSide = $('#homeside');

function setSidebarPosition() {
	
	var leftPosition = homePageWrapper.offset().left + homePageWrapper.outerWidth();
	homeSide.css('left', leftPosition);

}

if (homePageWrapper.length) {
	setSidebarPosition();
}

// Set position of pagination if it exists
var searchResults = $('#searchresults');

function setHomePagination() {
	var pagination = $('#homepagination');
	var leftPosition = $('.homeinvoice').first().offset().left - 100;
	var rightPosition = $(window).width() - homeSide.offset().left;

	pagination.css({
		'left' : leftPosition,
		'right' : rightPosition
	});

	
	if ($('.pagination').length) {
		pagination.show();
		searchResults.css('padding-top', '70px');
	} else {
		searchResults.css('padding-top', '0');
		pagination.hide();
	}
}

if (homePageWrapper.length) {
	setHomePagination();
}


// Changed fixed positions on window resize
$( window ).resize(function() {
	if (homePageWrapper.length) {
		setSidebarPosition();
		if ($('.homeinvoice').length) {
			setHomePagination();
		}
	}
});

};

$(document).ready(ready);
$(document).on('page:load', ready);