<p id="notice"><%= notice %></p>

<%= form_for(@invoice) do |f| %>

<aside id="sidebar">
    <div class="scrollwrapper">
    <div id="controls">
    	<h2>Invoice Settings</h2>
        <div class="control">
        	<div class="alignment">
                <span>Invoice #</span>
                <%= f.text_field :invoice_number %>
            </div>
        </div>
        <div class="control">
        	<div class="alignment">
                <span>Date</span>
                <%= f.text_field :date, class: "datefield", 'date' => @invoice.date.strftime("%B %d, %Y"), readonly: true %>
            </div>
        </div>
        <div class="control">
        	<div class="alignment">
                <span>Terms</span>
                <select class="terms">
                	<option data-term="0">Same Day</option>
                    <option data-term="7">7 Days</option>
                    <option data-term="14">14 Days</option>
                    <option data-term="21">21 Days</option>
                    <option data-term="30">30 Days</option>
                    <option data-term="45">45 Days</option>
                    <option data-term="60">60 Days</option>
                    <option data-term="90">90 Days</option>
                    <option data-term="180">180 Days</option>
                    <option data-term="365">365 Days</option>
                </select>
            </div>
        </div>
        <div class="control">
        	<div class="alignment">
                <span>Due</span>
                <%= f.text_field :due_date, class: "duedatefield", 'date' => @invoice.due_date.strftime("%B %d, %Y"), readonly: true %>
            </div>
        </div>
    </div>

    <br>
    <%= f.submit %>
    <br>
    <%= link_to 'Back', invoices_path %>

    </div>
</aside>

<!-- Start Invioce -->

<div id="invoicewrapper" class="edit">
    <div id="invoice">
    
    	<section id="invoicenumber">
        	<div class="sectionstatus red"></div>
       		<div>
            	Invoice No. <span id="e-invoicenumber" contenteditable="<%= @editable %>" name="invoice[invoice_number]" placeholder="#"><%= @invoice.invoice_number %></span>
            </div>
       </section> 
       
      <section id="companyinformation">
       	<div class="sectionstatus yellow">
        	<div class="tooltip">
            	<p>This is a tip</p>
                <p>This is a second tip with two lines</p>
            </div>
        </div>
       		<div id="userinfo">
       			<%= f.text_field :name %>
                  <span id="e-name" contenteditable="<%= @editable %>" placeholder="Name" name="invoice[name]"><%= @invoice.name %></span><br>
                  <%= f.text_field :address_line1 %>
                  <span id="e-address" contenteditable="<%= @editable %>" placeholder="Address" name="invoice[address_line1]"><%= @invoice.address_line1 %></span><br>
                  <%= f.text_field :address_line2 %>
                  <span id="e-cityzip" contenteditable="<%= @editable %>" placeholder="City, State, Zip" name="invoice[address_line2]"><%= @invoice.address_line2 %></span><br>
                  <%= f.text_field :phone %>
                  <span id="e-phone" contenteditable="<%= @editable %>" placeholder="Phone" name="invoice[phone]"><%= @invoice.phone %></span>
            </div>
            <div id="dateterms">
            	<table border="0" cellspacing="0" cellpadding="0">
                  <tbody>
                    <tr>
                      <td align="right">Date:</td>
                      <td class="invoicesetting"><span id="e-date" contenteditable="<%= @editable %>"></span></td>
                    </tr>
                    <tr>
                      <td align="right">Terms:</td>
                      <td class="invoicesetting">
                      	<select class="terms">
                            <option data-term="0">Same Day</option>
                            <option data-term="7">7 Days</option>
                            <option data-term="14">14 Days</option>
                            <option data-term="21">21 Days</option>
                            <option data-term="30">30 Days</option>
                            <option data-term="45">45 Days</option>
                            <option data-term="60">60 Days</option>
                            <option data-term="90">90 Days</option>
                            <option data-term="180">180 Days</option>
                            <option data-term="365">365 Days</option>
                        </select>
                      </td>
                    </tr>
                    <tr>
                      <td align="right">Due Date:</td>
                      <td class="invoicesetting"><span id="e-duedate" contenteditable="<%= @editable %>"></span></td>
                    </tr>
                  </tbody>
                </table>
            </div>
      </section>
      
       <section id="clientinformation">
       	<div class="sectionstatus green"></div>
       		<div class="sectiontitle">Bill To:</div>
                  <%= f.text_field :client_name %><span id="e-clientname" contenteditable="<%= @editable %>" placeholder="Client Name" name="invoice[client_name]"><%= @invoice.client_name %></span><br>
                  <%= f.text_field :client_address_line1 %>
                  <span id="e-clientaddress" contenteditable="<%= @editable %>" placeholder="Client Address" name="invoice[client_address_line1]"><%= @invoice.client_address_line1 %></span><br>
                  <%= f.text_field :client_address_line2 %><span id="e-clientcityzip" contenteditable="<%= @editable %>" placeholder="Client City, State, Zip" name="invoice[client_address_line2]"><%= @invoice.client_address_line2 %></span><br>
       </section>
       
       <section id="invoiceitems">
         <div class="sectionstatus yellow">
                <div class="tooltip">
                    <p>This is a tip</p>
                    <p>This is a second tip with two lines</p>
                </div>
            </div>
            <table width="100%" border="0" cellspacing="0" cellpadding="0">
                      <tr class="tableheading">
                        <th width="61%" align="left">Description</th>
                        <th width="11%" align="right">Quantity</th>
                        <th width="10%" align="right">Rate</th>
                        <th width="18%" align="right">Amount</th>
                      </tr>
	                      <%= f.fields_for :jobs, @invoice.jobs do |c| %>
	                      <tr changed="false">
	                        <td align="left" class="jobdescriptioncell">
	                              <%= c.text_area :job_description, class: "job-description-box" %>
	                              <span class="e-jobdescription" contenteditable="<%= @editable %>" placeholder="Type a job description">
	                              	<%= c.object.job_description %>
	                              </span>
	                        </td>
	                        <td align="right" class="quantitycell">
	                              <%= c.number_field :job_quantity, class: "job-quantity-box" %>
	                              <span class="e-quantity" contenteditable="<%= @editable %>" placeholder="Quantity">
									<%= c.object.job_quantity %>
	                              </span>
	                        </td>
	                        <td align="right" class="ratecell">
	                              <%= c.number_field :job_rate, class: "job-rate-box" %>
	                              <span class="e-rate" contenteditable="<%= @editable %>" placeholder="Rate">
	                              	<%= c.object.job_rate %>
	                              </span>
	                        </td>
	                        <td align="right" class="amountcell">
	                              <div class="amountbox"></div>
	                              <div class="jobcontrols">
	                              <div class="delete existing"></div>
	                              <%= c.hidden_field :will_delete, value: false %>
	                              <div class="insert"></div>
	                          </div>
	                        </td>
	                      </tr>
                  <% end %>
            </table>
       </section>
       
       <section id="invoicetotal">
       	 	<div class="sectionstatus green"></div>
            <div id="invoiceamount"></div>
            Total:
       </section>
       
       <section id="notes">
            <div class="sectiontitle notestitle">Notes:</div>
             <%= f.text_area :notes %>
            <div id="e-notes" contenteditable="<%= @editable %>" value="<%= @invoice.notes %>" placeholder="Type any notes regarding the invoice here." name="invoice[notes]"></div>
       </section>
       
    </div>
</div>



<% end %>

